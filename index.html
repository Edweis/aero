<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Countries, Prefixes, and Time</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 20px;
      }
      table {
        width: 100%;
        border-collapse: collapse;
        max-width: 700px;
      }
      main { display: flex; gap: 16px;}
      th,
      td {
        border: 1px solid #ddd;
        padding: 10px;
        text-align: left;
      }
      th {
        background-color: #f4f4f4;
      }
      tr:hover {
        background-color: #eee;
      }
      tr[aria-selected=true] {
          background-color: lightgreen;
      }
      .timezone-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 16px;
        margin-bottom: 20px;
        max-width: 700px;
      }
      #tz-comparison {
        margin-bottom: 20px;
      }
      #working-hours-form {
        display: flex;
        gap: 12px;
        align-items: center;
        margin-bottom: 12px;
      }
      #working-hours-form input[type="number"] {
        width: 50px;
      }
      #tz-table {
        max-width: none;
        border-collapse: separate;
        border-spacing: 0;
        table-layout: fixed;
        width: 1025px;
      }
      #tz-table thead th {
        position: sticky;
        top: 0;
        z-index: 1;
        background-color: #f4f4f4;
      }
      #tz-table thead th.working-hour {
        background-color: #d4edda;
      }
      #tz-table th,
      #tz-table td {
        padding: 4px 6px;
        text-align: center;
        font-size: 13px;
      }
      #tz-table th:first-child,
      #tz-table td:first-child {
        text-align: left;
        white-space: nowrap;
        width: 160px;
      }
      #tz-table th.current-hour {
        background-color: #fff3cd;
        font-weight: bold;
      }
      #tz-table td.current-hour {
        background-color: #fff3cd;
      }
      #tz-table td.working-hour {
        background-color: #d4edda;
      }
      #tz-table td.working-hour.current-hour {
        background-color: #a3d9a5;
        font-weight: bold;
      }
      #tz-table tr.highlighted-row td {
        background-color: #cfe2ff;
      }
      #tz-table tr.highlighted-row td.current-hour {
        background-color: #a0c4ff;
        font-weight: bold;
      }
      #tz-table tr.highlighted-row td.working-hour {
        background-color: #a0c4ff;
      }
      #tz-table tr.highlighted-row td.working-hour.current-hour {
        background-color: #7aadff;
        font-weight: bold;
      }
      #tz-table .region-header th {
        background-color: #e9ecef;
        text-align: left;
        font-size: 12px;
        padding: 4px 6px;
      }
      .timezone-card {
        border: 1px solid #ddd;
        padding: 12px;
        border-radius: 6px;
        text-align: center;
        background-color: #f9f9f9;
      }
    </style>
  </head>
  <body>
    <h1>Countries, Phone Prefixes, and Current Time</h1>
    <section id="tz-comparison">
      <h2>Timezone Comparison</h2>
      <form id="working-hours-form">
        <label>
          Work start
          <input type="number" id="work-start" value="8" min="0" max="23" />
        </label>
        <label>
          Work end
          <input type="number" id="work-end" value="17" min="0" max="23" />
        </label>
      </form>
      <div style="overflow: auto; max-height: 80vh;">
        <table id="tz-table">
          <thead>
            <tr><th>Timezone</th></tr>
          </thead>
          <tbody id="tz-table-body"></tbody>
        </table>
      </div>
    </section>
    <main>
      <table>
        <thead>
          <tr>
            <th style="width: 200px;">Country</th>
            <th style="width: 100px;">Current Time</th>
            <th>Phone Prefix</th>
            <th>Currency</th>
            <th>TLD</th>
          </tr>
        </thead>
        <tbody id="countryTable">
          <!-- Dynamic rows will be inserted here -->
        </tbody>


      </table>
      <ul>
        Countries I can call
        <li>Austria</li>
        <li>Belgium</li>
        <li>Bulgaria Croatia</li>
        <li>Canada</li>
        <li>China</li>
        <li>Cyprus (Greece part)</li>
        <li>Czech Republic</li>
        <li>Denmark</li>
        <li>Estonia</li>
        <li>Finland</li>
        <li>France</li>
        <li>Germany Greece</li>
        <li>Hongkong</li>
        <li>Hungary Ireland</li>
        <li>Iceland</li>
        <li>India</li>
        <li>Israel</li>
        <li>Italy</li>
        <li>Korea</li>
        <li>Latvia</li>
        <li>Liechtenstein</li>
        <li>Lithuania</li>
        <li>Luxembourg</li>
        <li>Malaysia</li>
        <li>Malta</li>
        <li>Morocco (only landline)</li>
        <li>Norway Poland</li>
        <li>Portugal Romania</li>
        <li>Singapore</li>
        <li>Slovakia</li>
        <li>Slovenia</li>
        <li>South Africa Switzerland</li>
        <li>Spain</li>
        <li>Sweden</li>
        <li>Thailand</li>
        <li>Turkey (only landline)</li>
        <li>United Kingdom</li>
        <li>USA</li>
      </ul>
    </main>

    <script>
      const countries = [
        {"name":"USA - Alabama","timezone":"America/Chicago","prefix":"+1 (205)"},{"name":"USA - Alaska","timezone":"America/Anchorage","prefix":"+1 (907)"},{"name":"USA - Arizona","timezone":"America/Phoenix","prefix":"+1 (480)"},{"name":"USA - Arkansas","timezone":"America/Chicago","prefix":"+1 (501)"},{"name":"USA - California","timezone":"America/Los_Angeles","prefix":"+1 (213)"},{"name":"USA - Colorado","timezone":"America/Denver","prefix":"+1 (303)"},{"name":"USA - Connecticut","timezone":"America/New_York","prefix":"+1 (203)"},{"name":"USA - Delaware","timezone":"America/New_York","prefix":"+1 (302)"},{"name":"USA - Florida","timezone":"America/New_York","prefix":"+1 (305)"},{"name":"USA - Georgia","timezone":"America/New_York","prefix":"+1 (404)"},{"name":"USA - Hawaii","timezone":"Pacific/Honolulu","prefix":"+1 (808)"},{"name":"USA - Idaho","timezone":"America/Boise","prefix":"+1 (208)"},{"name":"USA - Illinois","timezone":"America/Chicago","prefix":"+1 (312)"},{"name":"USA - Indiana","timezone":"America/New_York","prefix":"+1 (317)"},{"name":"USA - Iowa","timezone":"America/Chicago","prefix":"+1 (515)"},{"name":"USA - Kansas","timezone":"America/Chicago","prefix":"+1 (316)"},{"name":"USA - Kentucky","timezone":"America/New_York","prefix":"+1 (502)"},{"name":"USA - Louisiana","timezone":"America/Chicago","prefix":"+1 (225)"},{"name":"USA - Maine","timezone":"America/New_York","prefix":"+1 (207)"},{"name":"USA - Maryland","timezone":"America/New_York","prefix":"+1 (410)"},{"name":"USA - Massachusetts","timezone":"America/New_York","prefix":"+1 (617)"},{"name":"USA - Michigan","timezone":"America/New_York","prefix":"+1 (313)"},{"name":"USA - Minnesota","timezone":"America/Chicago","prefix":"+1 (612)"},{"name":"USA - Mississippi","timezone":"America/Chicago","prefix":"+1 (601)"},{"name":"USA - Missouri","timezone":"America/Chicago","prefix":"+1 (314)"},{"name":"USA - Montana","timezone":"America/Denver","prefix":"+1 (406)"},{"name":"USA - Nebraska","timezone":"America/Chicago","prefix":"+1 (402)"},{"name":"USA - Nevada","timezone":"America/Los_Angeles","prefix":"+1 (702)"},{"name":"USA - New Hampshire","timezone":"America/New_York","prefix":"+1 (603)"},{"name":"USA - New Jersey","timezone":"America/New_York","prefix":"+1 (201)"},{"name":"USA - New Mexico","timezone":"America/Denver","prefix":"+1 (505)"},{"name":"USA - New York","timezone":"America/New_York","prefix":"+1 (212)"},{"name":"USA - North Carolina","timezone":"America/New_York","prefix":"+1 (919)"},{"name":"USA - North Dakota","timezone":"America/Chicago","prefix":"+1 (701)"},{"name":"USA - Ohio","timezone":"America/New_York","prefix":"+1 (216)"},{"name":"USA - Oklahoma","timezone":"America/Chicago","prefix":"+1 (405)"},{"name":"USA - Oregon","timezone":"America/Los_Angeles","prefix":"+1 (503)"},{"name":"USA - Pennsylvania","timezone":"America/New_York","prefix":"+1 (215)"},{"name":"USA - Rhode Island","timezone":"America/New_York","prefix":"+1 (401)"},{"name":"USA - South Carolina","timezone":"America/New_York","prefix":"+1 (803)"},{"name":"USA - South Dakota","timezone":"America/Chicago","prefix":"+1 (605)"},{"name":"USA - Tennessee","timezone":"America/Chicago","prefix":"+1 (615)"},{"name":"USA - Texas","timezone":"America/Chicago","prefix":"+1 (214)"},{"name":"USA - Utah","timezone":"America/Denver","prefix":"+1 (801)"},{"name":"USA - Vermont","timezone":"America/New_York","prefix":"+1 (802)"},{"name":"USA - Virginia","timezone":"America/New_York","prefix":"+1 (703)"},{"name":"USA - Washington","timezone":"America/Los_Angeles","prefix":"+1 (206)"},{"name":"USA - West Virginia","timezone":"America/New_York","prefix":"+1 (304)"},{"name":"USA - Wisconsin","timezone":"America/Chicago","prefix":"+1 (414)"},{"name":"USA - Wyoming","timezone":"America/Denver","prefix":"+1 (307)"},
        {"name":"USA - Pacific Time (PST/PDT)","timezone":"America/Los_Angeles","prefix":"+1"}, {"name":"USA - Mountain Time (MST/MDT)","timezone":"America/Denver","prefix":"+1"}, {"name":"USA - Central Time (CST/CDT)","timezone":"America/Chicago","prefix":"+1"}, {"name":"USA - Eastern Time (EST/EDT)","timezone":"America/New_York","prefix":"+1"}, {"name":"USA - Alaska Time (AKST/AKDT)","timezone":"America/Anchorage","prefix":"+1"}, {"name":"USA - Hawaii Time (HST)","timezone":"Pacific/Honolulu","prefix":"+1"}, {"name":"USA - Arizona Time (MST)","timezone":"America/Phoenix","prefix":"+1"},
        {"name":"AU - New South Wales","timezone":"Australia/Sydney","prefix":"+61 2"}, {"name":"AU - Victoria","timezone":"Australia/Melbourne","prefix":"+61 3"}, {"name":"AU - Queensland","timezone":"Australia/Brisbane","prefix":"+61 7"}, {"name":"AU - Western Australia","timezone":"Australia/Perth","prefix":"+61 8"}, {"name":"AU - South Australia","timezone":"Australia/Adelaide","prefix":"+61 8"}, {"name":"AU - Tasmania","timezone":"Australia/Hobart","prefix":"+61 3"}, {"name":"AU - Australian Capital Territory","timezone":"Australia/Sydney","prefix":"+61 2"}, {"name":"AU - Northern Territory","timezone":"Australia/Darwin","prefix":"+61 8"},
        { name: "Afghanistan", timezone: "Asia/Kabul", prefix: "+93", currency: "AFN", tld: ".af", }, { name: "Albania", timezone: "Europe/Tirane", prefix: "+355", currency: "ALL", tld: ".al", }, { name: "Algeria", timezone: "Africa/Algiers", prefix: "+213", currency: "DZD", tld: ".dz", }, { name: "Andorra", timezone: "Europe/Andorra", prefix: "+376", currency: "EUR", tld: ".ad", }, { name: "Angola", timezone: "Africa/Luanda", prefix: "+244", currency: "AOA", tld: ".ao", }, { name: "Antigua and Barbuda", timezone: "America/Antigua", prefix: "+1-268", currency: "XCD", tld: ".ag", }, { name: "Argentina", timezone: "America/Argentina/Buenos_Aires", prefix: "+54", currency: "ARS", tld: ".ar", }, { name: "Armenia", timezone: "Asia/Yerevan", prefix: "+374", currency: "AMD", tld: ".am", }, { name: "Australia", timezone: "Australia/Sydney", prefix: "+61", currency: "AUD", tld: ".au", }, { name: "Austria", timezone: "Europe/Vienna", prefix: "+43", currency: "EUR", tld: ".at", }, { name: "Azerbaijan", timezone: "Asia/Baku", prefix: "+994", currency: "AZN", tld: ".az", }, { name: "Bahamas", timezone: "America/Nassau", prefix: "+1-242", currency: "BSD", tld: ".bs", }, { name: "Bahrain", timezone: "Asia/Bahrain", prefix: "+973", currency: "BHD", tld: ".bh", }, { name: "Bangladesh", timezone: "Asia/Dhaka", prefix: "+880", currency: "BDT", tld: ".bd", }, { name: "Barbados", timezone: "America/Barbados", prefix: "+1-246", currency: "BBD", tld: ".bb", }, { name: "Belarus", timezone: "Europe/Minsk", prefix: "+375", currency: "BYN", tld: ".by", }, { name: "Belgium", timezone: "Europe/Brussels", prefix: "+32", currency: "EUR", tld: ".be", }, { name: "Belize", timezone: "America/Belize", prefix: "+501", currency: "BZD", tld: ".bz", }, { name: "Benin", timezone: "Africa/Porto-Novo", prefix: "+229", currency: "XOF", tld: ".bj", }, { name: "Bhutan", timezone: "Asia/Thimphu", prefix: "+975", currency: "BTN", tld: ".bt", }, { name: "Bolivia", timezone: "America/La_Paz", prefix: "+591", currency: "BOB", tld: ".bo", }, { name: "Bosnia and Herzegovina", timezone: "Europe/Sarajevo", prefix: "+387", currency: "BAM", tld: ".ba", }, { name: "Botswana", timezone: "Africa/Gaborone", prefix: "+267", currency: "BWP", tld: ".bw", }, { name: "Brazil", timezone: "America/Sao_Paulo", prefix: "+55", currency: "BRL", tld: ".br", }, { name: "Brunei", timezone: "Asia/Brunei", prefix: "+673", currency: "BND", tld: ".bn", }, { name: "Bulgaria", timezone: "Europe/Sofia", prefix: "+359", currency: "BGN", tld: ".bg", }, { name: "Burkina Faso", timezone: "Africa/Ouagadougou", prefix: "+226", currency: "BFW", tld: ".bf", }, { name: "Burundi", timezone: "Africa/Bujumbura", prefix: "+257", currency: "BIF", tld: ".bi", }, { name: "Cambodia", timezone: "Asia/Phnom_Penh", prefix: "+855", currency: "KHR", tld: ".kh", }, { name: "Cameroon", timezone: "Africa/Douala", prefix: "+237", currency: "XAF", tld: ".cm", }, { name: "Canada", timezone: "America/Toronto", prefix: "+1", currency: "CAD", tld: ".ca", }, { name: "Cape Verde", timezone: "Atlantic/Cape_Verde", prefix: "+238", currency: "CVE", tld: ".cv", }, { name: "Central African Republic", timezone: "Africa/Bangui", prefix: "+236", currency: "CDF", tld: ".cf", }, { name: "Chad", timezone: "Africa/N'Djamena", prefix: "+235", currency: "CDF", tld: ".td", }, { name: "Chile", timezone: "America/Santiago", prefix: "+56", currency: "CLP", tld: ".cl", }, { name: "China", timezone: "Asia/Shanghai", prefix: "+86", currency: "CNY", tld: ".cn", }, { name: "Colombia", timezone: "America/Bogota", prefix: "+57", currency: "COP", tld: ".co", }, { name: "Comoros",  timezone: "Indian/Comoro", prefix: "+269", currency: "KMF", tld: ".km", }, { name: "Congo (Democratic Republic)", timezone: "Africa/Kinshasa", prefix: "+243", currency: "CDF", tld: ".cd", }, { name: "Congo (Republic)", timezone: "Africa/Brazzaville", prefix: "+242", currency: "XAF", tld: ".cg", }, { name: "Costa Rica", timezone: "America/Costa_Rica", prefix: "+506", currency: "CRC", tld: ".cr", }, { name: "Côte d'Ivoire", timezone: "Africa/Abidjan", prefix: "+225", currency: "XOF", tld: ".ci", }, { name: "Croatia", timezone: "Europe/Zagreb", prefix: "+385", currency: "EUR", tld: ".hr", }, { name: "Cuba", timezone: "America/Havana", prefix: "+53", currency: "CUP", tld: ".cu", }, { name: "Cyprus", timezone: "Asia/Nicosia", prefix: "+357", currency: "EUR", tld: ".cy", }, { name: "Czech Republic", timezone: "Europe/Prague", prefix: "+420", currency: "CZK", tld: ".cz", }, { name: "Denmark", timezone: "Europe/Copenhagen", prefix: "+45", currency: "DKK", tld: ".dk", }, { name: "Djibouti", timezone: "Africa/Djibouti", prefix: "+253", currency: "DJF", tld: ".dj", }, { name: "Dominica", timezone: "America/Dominica", prefix: "+1-767", currency: "XCD", tld: ".dm", }, { name: "Dominican Republic", timezone: "America/Santo_Domingo", prefix: "+1-809", currency: "DOP", tld: ".do", }, { name: "Ecuador", timezone: "America/Guayaquil", prefix: "+593", currency: "USD", tld: ".ec", }, { name: "Egypt", timezone: "Africa/Cairo", prefix: "+20", currency: "EGP", tld: ".eg", }, { name: "El Salvador", timezone: "America/El_Salvador", prefix: "+503", currency: "USD", tld: ".sv", }, { name: "Equatorial Guinea", timezone: "Africa/Malabo", prefix: "+240", currency: "XAF", tld: ".gq", }, { name: "Eritrea", timezone: "Africa/Asmara", prefix: "+291", currency: "ERN", tld: ".er", }, { name: "Estonia", timezone: "Europe/Tallinn", prefix: "+372", currency: "EUR", tld: ".ee", }, { name: "Eswatini", timezone: "Africa/Mbabane", prefix: "+268", currency: "SZL", tld: ".sz", }, { name: "Ethiopia", timezone: "Africa/Addis_Ababa", prefix: "+251", currency: "ETB", tld: ".et", }, { name: "Fiji", timezone: "Pacific/Fiji", prefix: "+679", currency: "FJD", tld: ".fj", }, { name: "Finland", timezone: "Europe/Helsinki", prefix: "+358", currency: "EUR", tld: ".fi", }, { name: "France", timezone: "Europe/Paris", prefix: "+33", currency: "EUR", tld: ".fr", }, { name: "Gabon", timezone: "Africa/Libreville", prefix: "+241", currency: "GHS", tld: ".ga", }, { name: "Gambia", timezone: "Africa/Banjul", prefix: "+220", currency: "GMD", tld: ".gm", }, { name: "Georgia", timezone: "Asia/Tbilisi", prefix: "+995", currency: "GEL", tld: ".ge", }, { name: "Germany", timezone: "Europe/Berlin", prefix: "+49", currency: "EUR", tld: ".de", }, { name: "Ghana", timezone: "Africa/Accra", prefix: "+233", currency: "GHS", tld: ".gh", }, { name: "Greece", timezone: "Europe/Athens", prefix: "+30", currency: "EUR", tld: ".gr", }, { name: "Grenada", timezone: "America/Grenada", prefix: "+1-473", currency: "XCD", tld: ".gd", }, { name: "Guatemala", timezone: "America/Guatemala", prefix: "+502", currency: "GTQ", tld: ".gt", }, { name: "Guinea", timezone: "Africa/Conakry", prefix: "+224", currency: "GNF", tld: ".gn", }, { name: "Guinea-Bissau", timezone: "Africa/Bissau", prefix: "+245", currency: "GNF", tld: ".gw", }, { name: "Guyana", timezone: "America/Guyana", prefix: "+592", currency: "GYD", tld: ".gy", }, { name: "Haiti", timezone: "America/Port-au-Prince", prefix: "+509", currency: "HTG", tld: ".ht", }, { name: "Honduras", timezone: "America/Tegucigalpa", prefix: "+504", currency: "HNL", tld: ".hn", }, { name: "Hungary", timezone: "Europe/Budapest", prefix: "+36", currency: "HUF", tld: ".hu", }, { name: "Iceland", timezone: "Atlantic/Reykjavik", prefix: "+354", currency: "ISK", tld: ".is", }, { name: "India", timezone: "Asia/Kolkata", prefix: "+91", currency: "INR", tld: ".in", }, { name: "Indonesia", timezone: "Asia/Jakarta", prefix: "+62", currency: "IDR", tld: ".id", }, { name: "Iran", timezone: "Asia/Tehran", prefix: "+98", currency: "IRR", tld: ".ir", }, { name: "Iraq", timezone: "Asia/Baghdad", prefix: "+964", currency: "IQD", tld: ".iq", }, { name: "Ireland", timezone: "Europe/Dublin", prefix: "+353", currency: "EUR", tld: ".ie", }, { name: "Israel", timezone: "Asia/Jerusalem", prefix: "+972", currency: "ILS", tld: ".il", }, { name: "Italy", timezone: "Europe/Rome", prefix: "+39", currency: "EUR", tld: ".it", }, { name: "Jamaica", timezone: "America/Jamaica", prefix: "+1-876", currency: "JMD", tld: ".jm", }, { name: "Japan", timezone: "Asia/Tokyo", prefix: "+81", currency: "JPY", tld: ".jp", }, { name: "Jordan", timezone: "Asia/Amman", prefix: "+962", currency: "JOD", tld: ".jo", }, { name: "Kazakhstan", timezone: "Asia/Almaty", prefix: "+7", currency: "KZT", tld: ".kz", }, { name: "Kenya", timezone: "Africa/Nairobi", prefix: "+254", currency: "KES", tld: ".ke", }, { name: "Kiribati", timezone: "Pacific/Tarawa", prefix: "+686", currency: "AUD", tld: ".ki", }, { name: "Korea, North", timezone: "Asia/Pyongyang", prefix: "+850", currency: "KPW", tld: ".kp", }, { name: "Korea, South", timezone: "Asia/Seoul", prefix: "+82", currency: "KRW", tld: ".kr", }, { name: "Kuwait", timezone: "Asia/Kuwait", prefix: "+965", currency: "KWD", tld: ".kw", }, { name: "Kyrgyzstan", timezone: "Asia/Bishkek", prefix: "+996", currency: "KGS", tld: ".kg", }, { name: "Laos", timezone: "Asia/Vientiane", prefix: "+856", currency: "LAK", tld: ".la", }, { name: "Latvia", timezone: "Europe/Riga", prefix: "+371", currency: "EUR", tld: ".lv", }, { name: "Lebanon", timezone: "Asia/Beirut", prefix: "+961", currency: "LBP", tld: ".lb", }, { name: "Lesotho", timezone: "Africa/Maseru", prefix: "+266", currency: "LSL", tld: ".ls", }, { name: "Liberia", timezone: "Africa/Monrovia", prefix: "+231", currency: "LRD", tld: ".lr", }, { name: "Libya", timezone: "Africa/Tripoli", prefix: "+218", currency: "LYD", tld: ".ly", }, { name: "Liechtenstein", timezone: "Europe/Vaduz", prefix: "+423", currency: "CHF", tld: ".li", }, { name: "Lithuania", timezone: "Europe/Vilnius", prefix: "+370", currency: "EUR", tld: ".lt", }, { name: "Luxembourg", timezone: "Europe/Luxembourg", prefix: "+352", currency: "EUR", tld: ".lu", }, { name: "Madagascar", timezone: "Indian/Antananarivo", prefix: "+261", currency: "MGA", tld: ".mg", }, { name: "Malawi", timezone: "Africa/Blantyre", prefix: "+265", currency: "MWK", tld: ".mw", }, { name: "Malaysia", timezone: "Asia/Kuala_Lumpur", prefix: "+60", currency: "MYR", tld: ".my", }, { name: "Maldives", timezone: "Indian/Maldives", prefix: "+960", currency: "MVR", tld: ".mv", }, { name: "Mali", timezone: "Africa/Bamako", prefix: "+223", currency: "XOF", tld: ".ml", }, { name: "Malta", timezone: "Europe/Malta", prefix: "+356", currency: "EUR", tld: ".mt", }, { name: "Marshall Islands", timezone: "Pacific/Majuro", prefix: "+692", currency: "USD", tld: ".mh", }, { name: "Mauritania", timezone: "Africa/Nouakchott", prefix: "+222", currency: "MRU", tld: ".mr", }, { name: "Mauritius", timezone: "Indian/Mauritius", prefix: "+230", currency: "MUR", tld: ".mu", }, { name: "Mexico", timezone: "America/Mexico_City", prefix: "+52", currency: "MXN", tld: ".mx", }, { name: "Micronesia", timezone: "Pacific/Chuuk", prefix: "+691", currency: "USD", tld: ".fm", }, { name: "Moldova", timezone: "Europe/Chisinau", prefix: "+373", currency: "MDL", tld: ".md", }, { name: "Monaco", timezone: "Europe/Monaco", prefix: "+377", currency: "EUR", tld: ".mc", }, { name: "Mongolia", timezone: "Asia/Ulaanbaatar", prefix: "+976", currency: "MNT", tld: ".mn", }, { name: "Montenegro", timezone: "Europe/Podgorica", prefix: "+382", currency: "EUR", tld: ".me", }, { name: "Morocco", timezone: "Africa/Casablanca", prefix: "+212", currency: "MAD", tld: ".ma", }, { name: "Mozambique", timezone: "Africa/Maputo", prefix: "+258", currency: "MZN", tld: ".mz", }, { name: "Myanmar", timezone: "Asia/Yangon", prefix: "+95", currency: "MMK", tld: ".mm", }, { name: "Namibia", timezone: "Africa/Windhoek", prefix: "+264", currency: "NAD", tld: ".na", }, { name: "Nauru", timezone: "Pacific/Nauru", prefix: "+674", currency: "AUD", tld: ".nr", }, { name: "Nepal", timezone: "Asia/Kathmandu", prefix: "+977", currency: "NPR", tld: ".np", }, { name: "Netherlands", timezone: "Europe/Amsterdam", prefix: "+31", currency: "EUR", tld: ".nl", }, { name: "New Zealand", timezone: "Pacific/Auckland", prefix: "+64", currency: "NZD", tld: ".nz", }, { name: "Nicaragua", timezone: "America/Managua", prefix: "+505", currency: "NIO", tld: ".ni", }, { name: "Niger", timezone: "Africa/Niamey", prefix: "+227", currency: "NGN", tld: ".ne", }, { name: "Nigeria", timezone: "Africa/Lagos", prefix: "+234", currency: "NGN", tld: ".ng", }, { name: "North Macedonia", timezone: "Europe/Skopje", prefix: "+389", currency: "MKD", tld: ".mk", }, { name: "Norway", timezone: "Europe/Oslo", prefix: "+47", currency: "NOK", tld: ".no", }, { name: "Oman", timezone: "Asia/Muscat", prefix: "+968", currency: "OMR", tld: ".om", }, { name: "Pakistan", timezone: "Asia/Karachi", prefix: "+92", currency: "PKR", tld: ".pk", }, { name: "Palau", timezone: "Pacific/Palau", prefix: "+680", currency: "USD", tld: ".pw", }, { name: "Panama", timezone: "America/Panama", prefix: "+507", currency: "PAB", tld: ".pa", }, { name: "Papua New Guinea", timezone: "Pacific/Port_Moresby", prefix: "+675", currency: "PGK", tld: ".pg", }, { name: "Paraguay", timezone: "America/Asuncion", prefix: "+595", currency: "PYG", tld: ".py", }, { name: "Peru", timezone: "America/Lima", prefix: "+51", currency: "PEN", tld: ".pe", }, { name: "Philippines", timezone: "Asia/Manila", prefix: "+63", currency: "PHP", tld: ".ph", }, { name: "Poland", timezone: "Europe/Warsaw", prefix: "+48", currency: "PLN", tld: ".pl", }, { name: "Portugal", timezone: "Europe/Lisbon", prefix: "+351", currency: "EUR", tld: ".pt", }, { name: "Puerto Rico", timezone: "America/Puerto_Rico", prefix: "+1-787", currency: "USD", tld: ".pr", }, { name: "Qatar", timezone: "Asia/Qatar", prefix: "+974", currency: "QAR", tld: ".qa", }, { name: "Romania", timezone: "Europe/Bucharest", prefix: "+40", currency: "RON", tld: ".ro", }, { name: "Russia", timezone: "Europe/Moscow", prefix: "+7", currency: "RUB", tld: ".ru", }, { name: "Rwanda", timezone: "Africa/Kigali", prefix: "+250", currency: "RWF", tld: ".rw", }, { name: "Saint Kitts and Nevis", timezone: "America/St_Kitts", prefix: "+1-869", currency: "XCD", tld: ".kn", }, { name: "Saint Lucia", timezone: "America/St_Lucia", prefix: "+1-758", currency: "XCD", tld: ".lc", }, { name: "Saint Vincent and the Grenadines", timezone: "America/St_Vincent", prefix: "+1-784", currency: "XCD", tld: ".vc", }, { name: "Samoa", timezone: "Pacific/Apia", prefix: "+685", currency: "WST", tld: ".ws", }, { name: "San Marino", timezone: "Europe/San_Marino", prefix: "+378", currency: "EUR", tld: ".sm", }, { name: "Sao Tome and Principe", timezone: "Africa/Sao_Tome", prefix: "+239", currency: "STN", tld: ".st", }, { name: "Saudi Arabia", timezone: "Asia/Riyadh", prefix: "+966", currency: "SAR", tld: ".sa", }, { name: "Senegal", timezone: "Africa/Dakar", prefix: "+221", currency: "XOF", tld: ".sn", }, { name: "Serbia", timezone: "Europe/Belgrade", prefix: "+381", currency: "RSD", tld: ".rs", }, { name: "Seychelles", timezone: "Indian/Mahe", prefix: "+248", currency: "SCR", tld: ".sc", }, { name: "Sierra Leone", timezone: "Africa/Freetown", prefix: "+232", currency: "SLL", tld: ".sl", }, { name: "Singapore", timezone: "Asia/Singapore", prefix: "+65", currency: "SGD", tld: ".sg", }, { name: "Slovakia", timezone: "Europe/Bratislava", prefix: "+421", currency: "EUR", tld: ".sk", }, { name: "Slovenia", timezone: "Europe/Ljubljana", prefix: "+386", currency: "SIT", tld: ".si", }, { name: "Solomon Islands", timezone: "Pacific/Guadalcanal", prefix: "+677", currency: "SBD", tld: ".sb", }, { name: "Somalia", timezone: "Africa/Mogadishu", prefix: "+252", currency: "SOS", tld: ".so", }, { name: "South Africa", timezone: "Africa/Johannesburg", prefix: "+27", currency: "ZAR", tld: ".za", }, { name: "South Korea", timezone: "Asia/Seoul", prefix: "+82", currency: "KRW", tld: ".kr", }, { name: "South Sudan", timezone: "Africa/Juba", prefix: "+211", currency: "SSP", tld: ".ss", }, { name: "Spain", timezone: "Europe/Madrid", prefix: "+34", currency: "EUR", tld: ".es", }, { name: "Sri Lanka", timezone: "Asia/Colombo", prefix: "+94", currency: "LKR", tld: ".lk", }, { name: "Sudan", timezone: "Africa/Khartoum", prefix: "+249", currency: "SDG", tld: ".sd", }, { name: "Suriname", timezone: "America/Paramaribo", prefix: "+597", currency: "SRD", tld: ".sr", }, { name: "Sweden", timezone: "Europe/Stockholm", prefix: "+46", currency: "SEK", tld: ".se", }, { name: "Switzerland", timezone: "Europe/Zurich", prefix: "+41", currency: "CHF", tld: ".ch", }, { name: "Syria", timezone: "Asia/Damascus", prefix: "+963", currency: "SYP", tld: ".sy", }, { name: "Taiwan", timezone: "Asia/Taipei", prefix: "+886", currency: "TWD", tld: ".tw", }, { name: "Tajikistan", timezone: "Asia/Dushanbe", prefix: "+992", currency: "TJS", tld: ".tj", }, { name: "Tanzania", timezone: "Africa/Dar_es_Salaam", prefix: "+255", currency: "TZS", tld: ".tz", }, { name: "Thailand", timezone: "Asia/Bangkok", prefix: "+66", currency: "THB", tld: ".th", }, { name: "Timor-Leste", timezone: "Asia/Dili", prefix: "+670", currency: "USD", tld: ".tl", }, { name: "Togo", timezone: "Africa/Lome", prefix: "+228", currency: "XOF", tld: ".tg", }, { name: "Tokelau", timezone: "Pacific/Fakaofo", prefix: "+690", currency: "NZD", tld: ".tk", }, { name: "Tonga", timezone: "Pacific/Tongatapu", prefix: "+676", currency: "TOP", tld: ".to", }, { name: "Trinidad and Tobago", timezone: "America/Port_of_Spain", prefix: "+1-868", currency: "TTD", tld: ".tt", }, { name: "Tunisia", timezone: "Africa/Tunis", prefix: "+216", currency: "TND", tld: ".tn", }, { name: "Turkey", timezone: "Europe/Istanbul", prefix: "+90", currency: "TRY", tld: ".tr", }, { name: "Turkmenistan", timezone: "Asia/Ashgabat", prefix: "+993", currency: "TMT", tld: ".tm", }, { name: "Tuvalu", timezone: "Pacific/Funafuti", prefix: "+688", currency: "AUD", tld: ".tv", }, { name: "Uganda", timezone: "Africa/Kampala", prefix: "+256", currency: "UGX", tld: ".ug", }, { name: "Ukraine", timezone: "Europe/Kiev", prefix: "+380", currency: "UAH", tld: ".ua", }, { name: "United Arab Emirates", timezone: "Asia/Dubai", prefix: "+971", currency: "AED", tld: ".ae", }, { name: "United Kingdom", timezone: "Europe/London", prefix: "+44", currency: "GBP", tld: ".uk", }, { name: "United States", timezone: "America/New_York", prefix: "+1", currency: "USD", tld: ".us", }, { name: "Uruguay", timezone: "America/Montevideo", prefix: "+598", currency: "UYU", tld: ".uy", }, { name: "Uzbekistan", timezone: "Asia/Tashkent", prefix: "+998", currency: "UZS", tld: ".uz", }, { name: "Vanuatu", timezone: "Pacific/Efate", prefix: "+678", currency: "VUV", tld: ".vu", }, { name: "Vatican City", timezone: "Europe/Vatican", prefix: "+379", currency: "EUR", tld: ".va", }, { name: "Venezuela", timezone: "America/Caracas", prefix: "+58", currency: "VES", tld: ".ve", }, { name: "Vietnam", timezone: "Asia/Ho_Chi_Minh", prefix: "+84", currency: "VND", tld: ".vn", }, { name: "Wallis and Futuna", timezone: "Pacific/Wallis", prefix: "+681", }, { name: "Yemen", timezone: "Asia/Aden", prefix: "+967", }, { name: "Zambia", timezone: "Africa/Lusaka", prefix: "+260", }, { name: "Zimbabwe", timezone: "Africa/Harare", prefix: "+263", },
      ]

      function getCurrentTime(timeZone, time = new Date()) {
        try {
          return new Intl.DateTimeFormat("fr-FR", { timeStyle: "medium", timeZone, }).format(time);
        } catch(error) {
          return "??? " + timeZone;
        }
      }

      function populateTable() {
        const tableBody = document.getElementById("countryTable");
        countries
          .reduce((acc, curr) => {
            if (!acc.some((item) => item.name === curr.name)) acc.push(curr);
            return acc;
          }, [])
          // .sort((a, b) => a.name.localeCompare(b.name))
          .forEach((country) => {
            const row = document.createElement("tr");
            row.addEventListener('click', event => {
              const rowEl = event.target.closest('tr')
              const active = rowEl.ariaSelected === 'true';
              rowEl.ariaSelected=!active
              renderComparisonTable()
            })
            row.dataset.zone = country.timezone
            row.innerHTML = `
                    <td>${country.name}</td>
                    <td><time>${getCurrentTime(country.timezone)}</time></td>
                    <td>${country.prefix??''}</td>
                    <td>${country.currency??''}</td>
                    <td>${country.tld??''}</td>
                `;
            tableBody.appendChild(row);
          });
      }

      function getLocalDate() {
        const now = new Date();
        const timezoneOffset = now.getTimezoneOffset() * 60000; // Convert minutes to milliseconds
        return new Date(now.getTime() - timezoneOffset);
      }
      function getHourInTimezone(timezone, referenceDate) {
        const formatter = new Intl.DateTimeFormat('en-US', {
          timeZone: timezone,
          hour: 'numeric',
          hour12: false,
        });
        const hour = parseInt(formatter.format(referenceDate), 10);
        return hour === 24 ? 0 : hour;
      }

      function isWorkingHour(hour, start, end) {
        if (start <= end) return hour >= start && hour < end;
        return hour >= start || hour < end;
      }

      const pinnedTimezones = [
        { name: 'Netherlands', timezone: 'Europe/Amsterdam' },
        { name: 'New York (EST)', timezone: 'America/New_York' },
        { name: 'Los Angeles (PST)', timezone: 'America/Los_Angeles' },
        { name: 'Sydney', timezone: 'Australia/Sydney' },
        { name: 'Melbourne', timezone: 'Australia/Melbourne' },
        { name: 'São Paulo', timezone: 'America/Sao_Paulo' },
        { name: 'Toronto', timezone: 'America/Toronto' },
        { name: 'Vancouver', timezone: 'America/Vancouver' },
      ];

      const southAmericaZones = new Set([
        'America/Argentina/Buenos_Aires','America/Sao_Paulo','America/Santiago',
        'America/Bogota','America/Guayaquil','America/Guyana','America/Asuncion',
        'America/Lima','America/Paramaribo','America/Montevideo','America/Caracas',
        'America/La_Paz',
      ]);
      const europeWET = new Set([
        'Europe/London','Europe/Dublin','Europe/Lisbon','Atlantic/Reykjavik',
      ]);
      const europeEET = new Set([
        'Europe/Athens','Europe/Bucharest','Europe/Helsinki','Europe/Kiev',
        'Europe/Riga','Europe/Vilnius','Europe/Chisinau','Europe/Tallinn',
        'Europe/Sofia','Asia/Nicosia',
      ]);
      const europeFar = new Set([
        'Europe/Moscow','Europe/Minsk','Europe/Istanbul',
      ]);
      const middleEastZones = new Set([
        'Asia/Bahrain','Asia/Baghdad','Asia/Riyadh','Asia/Kuwait','Asia/Qatar',
        'Asia/Dubai','Asia/Muscat','Asia/Aden','Asia/Jerusalem','Asia/Amman',
        'Asia/Beirut','Asia/Damascus','Asia/Tehran',
      ]);

      const regionOrder = [
        'Europe_CET','Europe_WET','Europe_EET','Europe_3',
        'North_America','South_America',
        'Middle_East','Asia','Africa',
        'Australia','Pacific','Indian','Atlantic',
      ];
      const regionLabels = {
        'Europe_WET': 'Europe (UTC+0)',
        'Europe_CET': 'Europe (UTC+1)',
        'Europe_EET': 'Europe (UTC+2)',
        'Europe_3': 'Europe (UTC+3)',
        'North_America': 'North America',
        'South_America': 'South America',
        'Middle_East': 'Middle East',
        'Africa': 'Africa',
        'Asia': 'Asia',
        'Australia': 'Oceania',
        'Pacific': 'Oceania',
        'Indian': 'Indian Ocean',
        'Atlantic': 'Atlantic',
      };

      function getRegion(timezone) {
        if (europeWET.has(timezone)) return 'Europe_WET';
        if (europeEET.has(timezone)) return 'Europe_EET';
        if (europeFar.has(timezone)) return 'Europe_3';
        if (timezone.startsWith('Europe/')) return 'Europe_CET';
        if (southAmericaZones.has(timezone)) return 'South_America';
        if (timezone.startsWith('America/')) return 'North_America';
        if (middleEastZones.has(timezone)) return 'Middle_East';
        return timezone.split('/')[0];
      }

      function getSelectedTimezones() {
        const pinnedZones = new Set(pinnedTimezones.map(p => p.timezone));
        const seen = new Set();
        const rest = countries.filter(item => {
          if (pinnedZones.has(item.timezone)) return false;
          if (seen.has(item.timezone)) return false;
          seen.add(item.timezone);
          return true;
        });

        const grouped = {};
        rest.forEach(item => {
          const region = getRegion(item.timezone);
          if (!grouped[region]) grouped[region] = [];
          grouped[region].push(item);
        });

        const result = [{ header: 'Pinned' }, ...pinnedTimezones];
        regionOrder.forEach(region => {
          if (grouped[region]) {
            result.push({ header: regionLabels[region] || region });
            result.push(...grouped[region]);
          }
        });

        // Add all IANA timezones not already shown
        const shownZones = new Set(pinnedTimezones.map(p => p.timezone));
        rest.forEach(item => shownZones.add(item.timezone));

        const allIana = Intl.supportedValuesOf('timeZone');
        const extraGrouped = {};
        allIana.forEach(tz => {
          if (shownZones.has(tz)) return;
          const region = tz.split('/')[0];
          if (!extraGrouped[region]) extraGrouped[region] = [];
          extraGrouped[region].push({ name: tz, timezone: tz });
        });

        const extraRegionOrder = Object.keys(extraGrouped).sort();
        if (extraRegionOrder.length > 0) {
          result.push({ header: 'All Timezones' });
          extraRegionOrder.forEach(region => {
            result.push({ header: region });
            result.push(...extraGrouped[region]);
          });
        }

        return result;
      }

      let referenceDate = new Date();
      let highlightedTimezone = null;

      function setNlHour(nlHour) {
        const d = new Date(referenceDate);
        const currentNlHour = getHourInTimezone('Europe/Amsterdam', d);
        d.setHours(d.getHours() + (nlHour - currentNlHour));
        referenceDate = d;
        updateAll();
      }

      function updateAll() {
        document.querySelectorAll('[data-zone]').forEach(el => {
          const zone = el.dataset.zone;
          el.querySelector('time').innerHTML = getCurrentTime(zone, referenceDate);
        });
        renderComparisonTable();
      }

      function renderComparisonTable() {
        const workStart = parseInt(document.getElementById('work-start').value, 10);
        const workEnd = parseInt(document.getElementById('work-end').value, 10);
        const nlHour = getHourInTimezone('Europe/Amsterdam', referenceDate);
        const timezones = getSelectedTimezones();

        const thead = document.querySelector('#tz-table thead tr');
        thead.innerHTML = '<th>Timezone</th>';
        for (let h = 0; h < 24; h++) {
          const th = document.createElement('th');
          th.textContent = h;
          if (h === nlHour) th.classList.add('current-hour');
          if (isWorkingHour(h, workStart, workEnd)) th.classList.add('working-hour');
          th.style.cursor = 'pointer';
          th.addEventListener('click', () => setNlHour(h));
          thead.appendChild(th);
        }

        const tbody = document.getElementById('tz-table-body');
        tbody.innerHTML = '';
        timezones.forEach(item => {
          if (item.header) {
            const row = document.createElement('tr');
            row.classList.add('region-header');
            const th = document.createElement('th');
            th.colSpan = 25;
            th.textContent = item.header;
            row.appendChild(th);
            tbody.appendChild(row);
            return;
          }
          const { name, timezone } = item;
          const row = document.createElement('tr');
          if (highlightedTimezone === timezone) row.classList.add('highlighted-row');
          const labelCell = document.createElement('td');
          labelCell.textContent = name;
          row.appendChild(labelCell);

          const targetCurrentHour = getHourInTimezone(timezone, referenceDate);
          const offset = ((targetCurrentHour - nlHour) % 24 + 24) % 24;

          for (let nlH = 0; nlH < 24; nlH++) {
            const td = document.createElement('td');
            const localHour = (nlH + offset) % 24;
            td.textContent = localHour;
            if (nlH === nlHour) td.classList.add('current-hour');
            if (isWorkingHour(localHour, workStart, workEnd)) td.classList.add('working-hour');
            td.style.cursor = 'pointer';
            td.addEventListener('click', () => {
              highlightedTimezone = highlightedTimezone === timezone ? null : timezone;
              setNlHour(nlH);
            });
            row.appendChild(td);
          }
          tbody.appendChild(row);
        });
      }

      // Populate the table when the page loads
      populateTable();

      document.getElementById('work-start').addEventListener('change', renderComparisonTable);
      document.getElementById('work-end').addEventListener('change', renderComparisonTable);
      updateAll();
    </script>
  </body>
</html>
